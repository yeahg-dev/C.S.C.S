## CPU스케줄링

여러 종류의 잡(프로세스)가 섞여있기 때문에 스케줄링이 필요함

### RR

- 각 프로세스는 동일한 크기의 할당시간을 가짐
- 할당 시간이 지나면 프로세스는 선점당하고 레디큐 제일 뒤에 가서 다시 대기

## 멀티레벨큐 스케줄링

- 레디큐를 여러개로 분할한 것
- 포그라운드 - RR/  백그라운드 - FCFS
- 큐에 대한 스케줄링이 필요
    - fixed priority scheduling
    - time slice

## 멀티레벨피드백큐 스케줄링

- 프로세스가 다른 큐로 이동 가능
- 에이징을 이와 같은 방식으로 구현할 수 있다
- 하위큐로 갈수록 RR의 할당시간을 길게 주고 마지막 큐는 FCFS
- CPU사용시간이 짧은 프로세스에게 우선순위를 많이 주는 방식

### 멀티레벨피드백큐를 정의하는 파라미터들

- 큐의 수
- 각 큐의 스케줄링 알고리즘
- 프로세스를 상위 큐로 / 하위 큐로 보내는 기준
- 프로세스가 CPU 서비스를 받으려 할 때 들어갈 큐를 결정하는 기준

## 멀티플프로세서 스케줄링

CPU가 여러개인 경우

- 큐에 한줄로 세워서 프로세서가 꺼내가게 함
- 로드쉐어링: 일부 프로세서에 잡이 몰리지 않도록 부하를 공유하는 메커니즘 필요. 별개의 큐 or 공동 큐
- Symmetric Multiprocessint(SMP): 각 프로세서가 각자 알아서 스케줄링 결정
- Asymmetric multiprocessing: 하나의 프로세서가 시스템 데이터의 접근과 공유를 책임지고 나머지 프로세서는 거기에 따름

## 리얼타임 스케줄링

- 정해진 시간에 반드시 실행이 되어야하는 프로세서들의 스케줄링
- 하드 리얼타입 시스템스: 반드시 정해진 시간에 끝나도록 스케줄링 해야함
- 소프트 리얼타임 컴퓨팅: 일반 프로세스에 비해 높은 Priority를 갖도록 해야함

## 스레드 스케줄링

- 로컬 스케줄링
    - 유저레벨스레드의 경우 사용자 수준의 스레드 라이브러리에 의해 어떤 스레드를 스케줄할지 결정
- 글로벌 스케줄링
    - 커널레벨스레드의 경우 일반 프로세스와 마찬가지로 커널의 단기 스케줄러가 어떤 스레드를 스케줄할지 결정
    

## 알고리즘 선택 방법

- Queueing models
    - 확률 분포로 주어지는 arrival rate와 service rate등을 통해 각종 performance index값을 계산
- 구현&성능 측정
    - 실제 시스템에 알고리즘을 구현하여 실제 작업에 대해서 성능을 -측정- 비교
- 모의 실험
    - 모의 프로그램으로 작성 후 trace를 입력으로 하여 결과 비교

## 데이터의 접근

메모리 주소를 공유하는 프로세스가 여럿 있는 경우 레이스컨디션의 가능성이 있다.

프로세스가 커널모드에 있을 때는 할당 시간이 끝나도 빼앗지 않는 방법으로 해결 가능함

1. 한번에 하나의 씨피유만이 커널에 들어갈 수 있게 하는 방법
2. 커널 내부에 있는 데이터에 접근할 때마다 그 데이터에 대한 락/언락을 하는 방법

## 크리티컬섹션문제

여러개의 프로세스가 공유 데이터를 동시에 사용하기를 원하는 경우

크리티컬섹션이란? → 공유데이터에 접근하는 코드

- Mutual Exclusion: 한 프로세스가 크리티컬센션 수행중이면 다른 프로세스는 들어가면 안된다
- 프로그래스: 아무도 크리티컬섹션에 있지 않은 상황에서 들어가고자 하는 프로세스 있으면 들어가게 해줘야한다
- Bounded Waiting: 들어가려고 요청한후부터 요청이 허용될때까지 다른프로세스들이 들어가는 횟수에 한계가 있어야한다
